#!/usr/bin/env bash

##############################################
#	Author: Nidia Achrys
#	Project: bootableusb
#	Version: 1.0
# 
#	Usage: bootableusb <iso> /path/to/drive
# 
#	Description:
#		Create a bootable USB drive from an
#		ISO file 
##############################################

version='1.0'
author='Nidia Achrys'

# Source common script functions
source $SCRIPTS/libs/01-api.sh

#############
# Core Code #
#############

api.required.command "dd"

bootableusb.write ()
{
	sudo dd bs=4M if="$1" of="$2" conv=fdatasync
}

if [ "$1" = "--help" ]
then
	api.std.printLn "usage: bootableusb <iso> <drive>"
else
	bootableusb.write "$1" "$2"
fi
